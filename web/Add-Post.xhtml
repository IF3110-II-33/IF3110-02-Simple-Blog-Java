<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
<f:view>
    <h:head>
        <title>Add Post</title>
    </h:head>
    <h:body>
        <ui:composition template="template/basis.xhtml">
            <ui:define name="content">
                 <article class="art simple post">
    
                        <div class="art-body">
                            <div class="art-body-inner">
                                <h2>Tambah Post</h2>

                                <div id="contact-area">
                                    <h:form >
                                        <label for="Judul">Judul:</label>
                                        <h:inputText id="Judul" value="#{postAddBean.post.judul}">
                                        </h:inputText>
                                        <label for="Tanggal">Tanggal:</label>
                                        <h:inputText id="Tanggal" value="#{postAddBean.post.date}">
                                        </h:inputText>
                                        <br> </br>
                                        <label for="Konten">Konten:</label><br></br>
                                        <h:inputTextarea rows="20" cols="50" id="Konten" value="#{postAddBean.post.konten}">
                                        </h:inputTextarea>

                                        <h:commandButton styleClass="submit-button"
                                               value="Submit" action="#{postAddBean.add()}"/>
                                    </h:form>
                                </div>
                            </div>
                        </div>

            </article>
            <script>
                function validateForm() {
                    var judul = document.getElementById("Judul").value;
                    var konten = document.getElementById("Konten").value;
                    var date_input = new Date(document.getElementById("Tanggal").value);
                    var date_now = new Date();
                    console.log("date input : " + date_input);
                    console.log("date now : " + date_now);
                    console.log("judul:  " + judul);
                    console.log("konten: " + konten);
                    if (judul == "" || konten == "" || date_input =="") {
                        alert("Semua form harus diisi");
                        return false;
                    }
                    else {
                        if (date_input.setHours(0,0,0,0) >= date_now.setHours(0,0,0,0)) {
                            return true;
                        }
                        else {
                            alert("Tanggal salah. Pastikan format benar dan lebih dari hari ini");
                            return false;
                        }
                    }
                }
            </script>
            </ui:define>
        </ui:composition>>
    </h:body>
</f:view>
</html>
